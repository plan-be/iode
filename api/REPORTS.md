<!-- This content was generated by scr4w_amd -->

# Table of Contents



- [IODE: Reports](#T1)
  - [Report functions group 1: "internal" functions](#T2)
  - [Report functions group 2: IODE commands](#T3)
      - [Functions with an IODE object suffix (cmt, eqs...)](#T4)
      - [Functions with a file extension suffix (csv, txt...)](#T5)
      - [Other functions](#T6)
    - [List of source files](#T7)
    - [b\_fsys.c](#T8)
      - [List of functions](#T9)
    - [b\_file.c](#T10)
      - [List of functions](#T11)
    - [b\_xode.c](#T12)
      - [List of functions](#T13)
    - [b\_htol.c](#T14)
      - [List of functions](#T15)
    - [b\_ltoh.c](#T16)
      - [List of functions](#T17)
    - [b\_ras.c](#T18)
      - [List of functions](#T19)
    - [b\_data.c](#T20)
      - [Functions with a suffix](#T21)
      - [Other functions](#T22)
      - [List of functions](#T23)
    - [b\_est.c](#T24)
      - [List of functions](#T25)
    - [b\_model.c](#T26)
      - [List of functions](#T27)
    - [b\_ws.c](#T28)
      - [List of functions](#T29)
  - [Report functions group 3: report functions](#T30)

# IODE: Reports {#T1}

Three groups of functions that manage the reports can be identified:

- Report functions group 1: "internal" functions which compile and execute the report commands, like $goto, $define...
- Report functions group 2: IODE commands that act on IODE objects, like $DataCreateVar, $FileDeleteTxt...
- Report functions group 3: report functions that are replaced on the commmand line by their computed value, like @upper(), @time()...

## Report functions group 1: "internal" functions {#T2}

## Report functions group 2: IODE commands {#T3}

This group contains functions acting on IODE objects that are called by the report engine (see b\_rep\_syntax.c for a complete list of functions).

These functions all have a similar syntax and always return an integer code, 0 indicating success, other values indicating an error.

They can be divided in 3 groups:

- functions requiring as 2d arg an **object type** like B\_DataCreate() for the report commands $DataCreateIdt, $DataCreateVar...
- functions requiring as 2d arg a **file type** like B\_FileDelete() for the report commands $FileDeleteCsv, $FileDeleteTxt...
- functions with **only one arg**, like B\_DataListCount() or B\_DataCalcVar()

#### Functions with an IODE object suffix (cmt, eqs...) {#T4}

Some functions need a suffix in the report syntax. For example $DataDelete and $DataUpdate require a suffix indicating which type of objects is their target (one of the 7 IODE objects). In that way, only one function is needed for $DataDelete*Var*, $DataDelete*Idt*...

When called by the report engine, these functions have 2 parameters:

- the argument of the function (the report line without the function name)
- the type of object treated (K\_CMT <= type <= K\_VAR)

For these functions, the parameters and return values are as follows:

```
    @param [in] char*   arg     report line without the first word 
    @param [in] int     type    type of object to be manipulated (K_CMT <= type <= K_VAR)
    @return     int             0 on success, -1 on error 
```

For instance, the report command

```
    $DataDeleteVar A B C
```

generates the C call:

```
    B_DataDelete("A B C", K_VAR);
    
    where arg == "A B C" and type == K_VAR   
```

#### Functions with a file extension suffix (csv, txt...) {#T5}

The principle is the same as above but for filename extension suffix (.csv, .txt...) instead of object type suffix (.cmt...).

When called by the report engine, these functions have also 2 parameters:

- the argument of the function (report line without function name)
- the type of **file** treated (K\_CMT <= type <= K\_CSV)

The parameters and return values are the same as for the functions with an IODE object type parameter.

For instance, the report command

```
    $FileDeleteCsv myfile
```

calls the C function

```
    B_FileDelete(arg, K_CSV);
 
    where arg == "myfile" and type == K_VAR   
```

#### Other functions {#T6}

All other functions receive only the argument on the report line. B\_DataListSort(), for example, has only one argument.

For these functions, the parameters and return values are as follows:

```
 @param [in] char*   arg     report line without the first word (i.e. the function name)
 @return     int             0 on success, -1 on error (not enough args for example)
```

### List of source files {#T7}

- b\_fsys.c : file manipulation \+ conversion from/to ansi\-oem\-utf8
- b\_file.c : file manipulation
- b\_xode.c : import comments and series (aka variables) from various non\-IODE formats
- b\_htol.c : transformation of high periodicity to low periodicity series.
- b\_ltoh.c : transformation of low periodicity series to high periodicity series.
- b\_ras.c : implementation of a RAS algorithm.
- b\_data.c : functions acting on data (i.e.: IODE objects)
- b\_est.c : estimation functions
- b\_model.c : model simulation, decomposition and recompilation
- b\_ws.c : functions related to WS management (clear, load, save, sample...)

### b\_fsys.c {#T8}

File manipulation and conversion from/to ansi\-oem\-utf8.

#### List of functions {#T9}

|Syntax|Equivalent in Reports|
|:---|:---|
|`int B_SysRename(char* arg)`|$SysMoveFile filein fileout|
|`int B_SysCopy(char* arg)`|$SysCopyFile filein fileout|
|`int B_SysAppend(char* arg)`|$SysAppendFile filein fileout|
|`int B_SysDelete(char* arg)`|$SysDeleteFile file1 file2 ...|
|`int B_SysOemToUTF8(char *arg)`|$SysOemToUTF8 inputfile outputfile|
|`int B_SysAnsiToUTF8(char *arg)`|$SysAnsiToUTF8 inputfile outputfile|
|`int B_SysAnsiToOem(char *arg)`|$SysAnsiToOem inputfile outputfile|
|`int B_SysOemToAnsi(char *arg)`|$SysOemToAnsi inputfile outputfile|

### b\_file.c {#T10}

Functions acting on files called by the report engine (see b\_rep\_syntax.c).

#### List of functions {#T11}

|Syntax|Equivalent in Reports|
|:---|:---|
|`int B_FileCopy(char* arg, int type)`|$FileCopy<type> source\_file dest\_file|
|`int B_FileRename(char* arg, int type)`|$FileRename<type> source\_file dest\_file|
|`int B_FileDelete(char* arg, int type)`|$FileDelete<type> file1 \[file2...\]|

### b\_xode.c {#T12}

Report functions to import comments and variables from various non\-IODE formats.

#### List of functions {#T13}

|Syntax|Equivalent in Reports|
|:---|:---|
|`int B_FileImportCmt(char* arg)`|$FileImportCmt format rule infile outfile language \[trace\]|
|`int B_FileImportVar(char* arg)`|$FileImportVar format rule infile outfile from to \[trace\]$FileImportVar format rule infile outfile from to \[trace\]|

### b\_htol.c {#T14}

Report functions to transform high periodicity to low periodicity series.

#### List of functions {#T15}

|Syntax|Equivalent in Reports|
|:---|:---|
|`int B_WsHtoLLast(char* arg)`|$WsHtoLLast Filename VarList|
|`int B_WsHtoLMean(char* arg)`|$WsHtoLMean Filename VarList|
|`int B_WsHtoLSum(char* arg)`|$WsHtoLSum Filename VarList|

### b\_ltoh.c {#T16}

Report functions to transform low periodicity series to high periodicity series (i.e. variables).

Two types of series are considered: stock and flow:

- in the first case, the interpolated values are of the same order of magnitude as the original values
- in the latter case, the values of the sub\-periods are additive over a period.

#### List of functions {#T17}

|Syntax|Equivalent in Reports|||
|:---|:---|:---|:---|
|`int B_WsLtoHStock(char* arg)`|$WsLtoHStock \{L|C|S\} Filename VarList|
|`int B_WsLtoHFlow(char* arg)`|$WsLtoHFlow \{L|C|S\} Filename VarList|

### b\_ras.c {#T18}

Implementation of a RAS algorithm.

#### List of functions {#T19}

|Syntax|Description|
|:---|:---|
|`int RasExecute(char *pattern, char *xdim, char *ydim, PERIOD *rper, PERIOD *cper, int maxit, double eps)`|Implementation of a RAS algorithm|

### b\_data.c {#T20}

Functions acting on IODE objects called by the report engine (see b\_rep\_syntax.c) and their sub\-functions.

These functions all have a similar syntax and always return an integer as return code, 0 indicating success, other values an error.

There are 2 groups of functions, one where a suffix is required, one with no suffix.

#### Functions with a suffix {#T21}

Some functions need a suffix in the report syntax. For example $DataDelete and $DataUpdate required a suffix indicating which type of objects is the target (one of the 7 IODE objects). In that way, only one function is needed for $DataDeleteVar or $DataDeleteIdt...

When called by the report engine, these functions have 2 parameters:

- the argument of the function (the remaining of the report line)
- the type of object treated

For these functions, the parameters and return values are as follows:

```
@param [in] char*   arg     report line  without the command 
@param [in] int     type    type of object whose names are to be saved in the list
@return     int             0 on success, -1 on error (not enough args)
```

For instance, the report command

```
    $DataDeleteVar A B C
```

generates the C call:

```
    B_DataDelete("A B C", K_VAR);
    where arg == "A B C" and type == K_VAR   
```

#### Other functions {#T22}

All other functions receive simply the argument on the report line. B\_DataListSort(), for example, has only one argument.

For these functions, the parameters and return values are as follows:

```
@param [in] char*   arg     report line without the command
@return     int             0 on success, -1 on error (not enough args)
```

#### List of functions {#T23}

|Syntax|Description|
|:---|:---|
|`int B_DataPattern(char* arg,int type)`|Creates an IODE list with all existing objects of a given type having the name constructed by the combinations of 2 lists.|
|`int B_DataRasVar(char* arg)`|RAS method implementation.|
|`int B_DataCalcVar(char* arg)`|Computes a new variable based on a LEC expression.|
|`int B_DataCreate(char* arg, int type)`|Creates one or more new objects.|
|`int B_DataDelete(char* arg, int type)`|Deletes one or more objects.|
|`int B_DataRename(char* arg, int type)`|Renames an object. Equations cannot be renamed.|
|`int B_DataDuplicate(char* arg, int type)`|Duplicates an object. Equations cannot be duplicated.|
|`int B_DataUpdate(char* arg, int type)`|Updates an object. The syntax can differ according to the object type.|
|`int B_DataSearch(char* arg, int type)`|Searches all objects containing a given string in their names and/or definitions.|
|`int B_DataListSort(char* arg)`|Sorts a list alphanumerically.|
|`int B_DataScan(char* arg, int type)`|Analyses a KDB content and creates 2 lists \_EXO and \_SCAL with all VAR and all SCL found in the kdb objects.|
|`int B_DataExist(char* arg, int type)`|Checks that an object exists. Returns \-1 if not, the object position in WS otherwise.|
|`int B_DataAppend(char* arg, int type)`|Appends data (a string) to a CMT or a LST.|
|`int B_DataList(char* arg, int type)`|Constructs a list of objects corresponding to a given name pattern. Objects can be in WS or in a file.|
|`int B_DataCalcLst(char* arg)`|List calculus: 4 operations between 2 lists.|
|`int B_DataListCount(char* arg)`|Returns the number of elements in a list.|
|`int B_DataCompareEps(char* arg)`|Defines the threshold under which the difference between 2 variables are considered equal.|
|`int B_DataCompare(char* arg, int type)`|Compares the objects in the current WS to the content of an IODE file and stores the results in 4 lists.|
|`int B_DataDisplayGraph(char* arg)`|Shows VARs or combinations of VARS in graphical form.|
|`int B_DataPrintGraph(char* arg)`|Prints VARs or combinations of VARS in graphical form.|

### b\_est.c {#T24}

Estimation functions called in IODE reports.

Except for B\_EqsEstimateEqs(), all functions in this group share the same syntax:

```
    int fn_name(char* arg) 
    
    where:  
        arg is the report line (without the command name) 
        the return code is 0 on success, any other value indicating and error
```

#### List of functions {#T25}

|Syntax|Description|
|:---|:---|
|`int B_EqsEstimateEqs(SAMPLE* smpl, char** eqs)`|Estimates a bloc of equations on a defined SAMPLE.|
|`int B_EqsEstimate(char* arg)`|Implementation of the report function $EqsEstimate.|
|`int B_EqsSetSample(char* arg)`|Implementation of the report function $EqsSetSample.|
|`int B_EqsSetMethod(char* arg)`|Implementation of the report function $EqsSetMethod.|
|`int B_EqsSetBloc(char* arg)`|Implementation of the report function $EqsSetBlock|
|`int B_EqsSetCmt(char* arg)`|Implementation of the report function $EqsSetCmt.|
|`int B_EqsSetInstrs(char* arg)`|Implementation of the report function $EqsSetInstrs.|

### b\_model.c {#T26}

Report functions related to model simulations.

#### List of functions {#T27}

|Syntax|Equivalent in Reports|
|:---|:---|
|`int B_ModelSimulate(char *arg)`|$ModelSimulate per\_from per\_to equation\_list|
|`int B_ModelSimulateParms(char* arg)`|$ModelSimulateParms eps relax maxit \{Connex, Triang, None \} 0 \- 4 (starting values) \{Yes, no \} \{yes, No \} nbtri|
|`int B_ModelExchange(char* arg)`|$ModelExchange eqname1\-varname1,eqname2\-varname2,...|
|`int B_ModelCompile(char* arg)`|$ModelCompile \[eqname1, eqname2, ... \]|
|`int B_ModelCalcSCC(char *arg)`|$ModelCalcSCC nbtris prename intername postname \[eqs\]|
|`int B_ModelSimulateSCC(char *arg)`|$ModelSimulateSCC from to pre inter post|
|`int B_ModelSimulateSaveNIters(char *arg)`|$ModelSimulateSaveNiters varname|
|`int B_ModelSimulateSaveNorms(char *arg)`|$ModelSimulateSaveNorms varname|

### b\_ws.c {#T28}

Functions related to WS management (clear, load, save, sample, import...)

#### List of functions {#T29}

|Syntax|Equivalent in Reports|
|:---|:---|
|`int B_WsLoad(char* arg, int type)`|$WsLoad<type> filename|
|`int X_findtype(char* filename)`|Returns the type of content of filename according to its extension|
|`int B_WsDump(KDB* kdb, char* filename)`|Dumps the content of KDB in a file|
|`int B_WsSave(char* arg, int type)`|$WsSave<type> filename|
|`int B_WsSaveCmp(char* arg, int type)`|$WsSaveCmp<type> filename|
|`int B_WsExport(char* arg, int type)`|$WsExport<type> filename|
|`int B_WsImport(char* arg, int type)`|$WsImport<type> filename|
|`int B_WsSample(char* arg)`|$WsSample period\_from period\_to|
|`int B_WsClear(char* arg, int type)`|$WsClear<type>|
|`int B_WsClearAll(char* arg)`|$WsClearAll|
|`int B_WsDescr(char* arg, int type)`|$WsDescr<type> free text|
|`int B_WsName(char* arg, int type)`|Sets the WS name. Obsolete as report function.|
|`int B_WsCopy(char* arg, int type)`|$WsCopy<type> fichier;fichier;.. obj1 obj2... or $WsCopyVar file;file;.. \[from to\] obj1 obj2...|
|`int B_WsMerge(char* arg, int type)`|$WsMerge<type> filename|
|`int B_WsExtrapolate(char* arg)`|$WsExtrapolate \[method\] from to \[variable list\]|
|`int B_WsAggrChar(char* arg)`|$WsAggrChar char|
|`int B_WsAggrSum(char* arg)`|$WsAggrSum pattern filename|
|`int B_WsAggrProd(char* arg)`|$WsAggrProd pattern filename|
|`int B_WsAggrMean(char* arg)`|$WsAggrMean pattern filename|
|`IODE_REAL *B_StatUnitRoot_1(char* arg, int print)`|Sub function of B\_StatUnitRoot() with an optional parameter to print the result (or not).|
|`int B_StatUnitRoot(char* arg)`|$StatUnitRoot drift trend order expression|
|`int B_CsvSave(char* arg, int type)`|$CsvSave<type> file name1 name2 ...|
|`int B_CsvNbDec(char *nbdec)`|$CsvNbDec nn|
|`int B_CsvSep(char *sep)`|$CsvSep char|
|`int B_CsvNaN(char *nan)`|$CsvNaN text|
|`int B_CsvAxes(char *var)`|$CsvAxes AxisName|
|`int B_CsvDec(char *dec)`|$CsvDec char|

## Report functions group 3: report functions {#T30}

